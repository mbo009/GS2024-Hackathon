def file_limits(request):
    data_keywords = {
        "data",
        "file",
        "files",
        "media",
        "string",
        "strings",
        "input",
        "inputs",
        "photo",
        "photos",
        "video",
        "videos",
    }
    description_keywords = {
        "big",
        "small",
        "exceeds",
        "exceeding",
        "exceeded",
        "large",
        "limit",
        "invalid",
    }
    output = True
    if request.get("requestBody"):
        output = False
        has_2xx, has_4xx_or_5xx = False, False
        responses = request["responses"]

        for code, response in responses.items():
            description = response.get("description", "").lower().split(" ")

            if code.startswith("2"):
                has_2xx = True

            if code.startswith(("4", "5")):
                if any(keyword in description for keyword in data_keywords) and any(
                    keyword in description for keyword in description_keywords
                ):
                    has_4xx_or_5xx = True

            if has_2xx and has_4xx_or_5xx:
                output = True
                break
    return {
        "testType": "file_limits",
        "passed": output,
        "endpoint": request["path"],
        "description": "Testing if server has error codes that ensure limiting data sizes",
    }
